!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PubNubReact=t():e.PubNubReact=t()}(this,function(){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=l(n(1)),s=l(n(2)),o=l(n(5)),u=l(n(7)),a=n(8),c=n(9);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=new i.default(e);(0,o.default)(t,this),this._pubnubInstance=t,this._autoload=new u.default}return r(n,[{key:"init",value:function(e){e.state?e.state=(0,s.default)(e.state,{$merge:{pn_status:{},pn_messages:{},pn_presence:{}}}):e.state={pn_messages:{},pn_status:{},pn_presence:{}},this._component=e,this._broadcast=new a.Broadcast,this._listener={},this._keepMessages={},this.addListener(this._listener),this._autoload.initialize(this),this.getPresence=c.getPresence.bind(this),this.getMessage=c.getMessage.bind(this),this.getStatus=c.getStatus.bind(this),this.clean=c.clean.bind(this),this.release=c.release.bind(this)}},{key:"subscribe",value:function(e){this._pubnubInstance.subscribe(e),this._autoload.enableLoad(e)}},{key:"unsubscribe",value:function(e){this._pubnubInstance.unsubscribe(e),this._autoload.disableLoad(e)}},{key:"getOriginalInstance",value:function(){if(this._pubnubInstance)return this._pubnubInstance;throw new ReferenceError("Pubnub default instance is not initialized yet. Invoke #init() method first.")}}]),n}();t.default=f,e.exports=t.default},function(e,t,n){var r;r=function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),u=r(n(65)),a=r(n(66)),c=n(67),i=(n(5),function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.listenToBrowserNetworkEvents,n=void 0===t||t;e.db=a.default,e.sdkFamily="Web",e.networking=new u.default({del:c.del,get:c.get,post:c.post,sendBeacon:s});var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n&&(window.addEventListener("offline",function(){r.networkDownDetected()}),window.addEventListener("online",function(){r.networkUpDetected()})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.default),i}());t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),g=i(n(2)),y=i(n(6)),b=i(n(8)),v=i(n(9)),_=i(n(16)),m=r(n(17)),P=r(n(18)),k=r(n(19)),S=r(n(20)),O=r(n(21)),T=r(n(22)),M=r(n(23)),w=r(n(24)),C=r(n(25)),E=r(n(26)),R=r(n(27)),N=r(n(28)),K=r(n(29)),x=r(n(30)),A=r(n(31)),U=r(n(32)),j=r(n(33)),D=r(n(34)),G=r(n(35)),L=r(n(36)),I=r(n(37)),q=r(n(38)),H=r(n(39)),B=r(n(40)),F=r(n(41)),z=r(n(42)),$=r(n(43)),V=r(n(44)),J=r(n(45)),X=r(n(46)),W=r(n(47)),Q=r(n(48)),Y=r(n(49)),Z=r(n(50)),ee=r(n(51)),te=r(n(52)),ne=r(n(53)),re=r(n(54)),ie=r(n(55)),se=r(n(56)),oe=r(n(57)),ue=r(n(58)),ae=r(n(59)),ce=r(n(60)),le=r(n(61)),fe=r(n(62)),de=r(n(63)),he=r(n(12)),pe=r(n(64)),o=i(n(13)),u=i(n(10)),a=i((n(5),n(3))),c=function(){function p(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=e.db,r=e.networking,i=this._config=new g.default({setup:e,db:t}),s=new y.default({config:i});r.init(i);var o={config:i,networking:r,crypto:s},u=_.default.bind(this,o,he),a=_.default.bind(this,o,te),c=_.default.bind(this,o,re),l=_.default.bind(this,o,se),f=_.default.bind(this,o,pe),d=this._listenerManager=new v.default,h=new b.default({timeEndpoint:u,leaveEndpoint:a,heartbeatEndpoint:c,setStateEndpoint:l,subscribeEndpoint:f,crypto:o.crypto,config:o.config,listenerManager:d});this.addListener=d.addListener.bind(d),this.removeListener=d.removeListener.bind(d),this.removeAllListeners=d.removeAllListeners.bind(d),this.channelGroups={listGroups:_.default.bind(this,o,X),listChannels:_.default.bind(this,o,W),addChannels:_.default.bind(this,o,$),removeChannels:_.default.bind(this,o,V),deleteGroup:_.default.bind(this,o,J)},this.push={addChannels:_.default.bind(this,o,Q),removeChannels:_.default.bind(this,o,Y),deleteDevice:_.default.bind(this,o,ee),listChannels:_.default.bind(this,o,Z)},this.hereNow=_.default.bind(this,o,oe),this.whereNow=_.default.bind(this,o,ne),this.getState=_.default.bind(this,o,ie),this.setState=h.adaptStateChange.bind(h),this.grant=_.default.bind(this,o,ae),this.audit=_.default.bind(this,o,ue),this.publish=_.default.bind(this,o,ce),this.messageCounts=_.default.bind(this,o,m),this.addMessageReaction=_.default.bind(this,o,P),this.getMessageReactions=_.default.bind(this,o,k),this.deleteMessageMetadata=_.default.bind(this,o,S),this.setUserData=_.default.bind(this,o,O),this.getUserData=_.default.bind(this,o,T),this.deleteUserData=_.default.bind(this,o,C),this.setDeviceData=_.default.bind(this,o,M),this.getDeviceData=_.default.bind(this,o,w),this.deleteDeviceData=_.default.bind(this,o,E),this.addDeviceToUser=_.default.bind(this,o,R),this.removeDeviceFromUser=_.default.bind(this,o,N),this.listDevicesForUser=_.default.bind(this,o,K),this.addUserToVirtualSpace=_.default.bind(this,o,G),this.removeUserFromVirtualSpace=_.default.bind(this,o,L),this.listUsersInVirtualSpace=_.default.bind(this,o,I),this.listVirtualSpacesForUser=_.default.bind(this,o,q),this.addDeviceToVirtualSpace=_.default.bind(this,o,H),this.removeDeviceFromVirtualSpace=_.default.bind(this,o,B),this.listDeviceInVirtualSpace=_.default.bind(this,o,F),this.listDevicesForUser=_.default.bind(this,o,z),this.getVirtualSpaces=_.default.bind(this,o,x),this.addVirtualSpace=_.default.bind(this,o,A),this.updateVirtualSpace=_.default.bind(this,o,U),this.getVirtualSpace=_.default.bind(this,o,j),this.deleteVirtualSpace=_.default.bind(this,o,D),this.fire=function(e,t){return e.replicate=!1,e.storeInHistory=!1,n.publish(e,t)},this.history=_.default.bind(this,o,le),this.deleteMessages=_.default.bind(this,o,fe),this.fetchMessages=_.default.bind(this,o,de),this.time=u,this.subscribe=h.adaptSubscribeChange.bind(h),this.presence=h.adaptPresenceChange.bind(h),this.unsubscribe=h.adaptUnsubscribeChange.bind(h),this.disconnect=h.disconnect.bind(h),this.reconnect=h.reconnect.bind(h),this.destroy=function(e){h.unsubscribeAll(e),h.disconnect()},this.stop=this.destroy,this.unsubscribeAll=h.unsubscribeAll.bind(h),this.getSubscribedChannels=h.getSubscribedChannels.bind(h),this.getSubscribedChannelGroups=h.getSubscribedChannelGroups.bind(h),this.encrypt=s.encrypt.bind(s),this.decrypt=s.decrypt.bind(s),this.getAuthKey=o.config.getAuthKey.bind(o.config),this.setAuthKey=o.config.setAuthKey.bind(o.config),this.setCipherKey=o.config.setCipherKey.bind(o.config),this.getUUID=o.config.getUUID.bind(o.config),this.setUUID=o.config.setUUID.bind(o.config),this.getFilterExpression=o.config.getFilterExpression.bind(o.config),this.setFilterExpression=o.config.setFilterExpression.bind(o.config),this.setHeartbeatInterval=o.config.setHeartbeatInterval.bind(o.config),r.hasModule("proxy")&&(this.setProxy=function(e){o.config.setProxy(e),n.reconnect()})}return s(p,[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}],[{key:"generateUUID",value:function(){return a.default.createUUID()}}]),p}();c.OPERATIONS=o.default,c.CATEGORIES=u.default,t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(3),o=(r=s)&&r.__esModule?r:{default:r},u=(n(5),function(){function r(e){var t=e.setup,n=e.db;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this._db=n,this.instanceId="pn-"+o.default.createUUID(),this.secretKey=t.secretKey||t.secret_key,this.subscribeKey=t.subscribeKey||t.subscribe_key,this.publishKey=t.publishKey||t.publish_key,this.sdkName=t.sdkName,this.sdkFamily=t.sdkFamily,this.partnerId=t.partnerId,this.setAuthKey(t.authKey),this.setCipherKey(t.cipherKey),this.setFilterExpression(t.filterExpression),this.origin=t.origin||"pubsub.pndsn.com",this.secure=t.ssl||!1,this.restore=t.restore||!1,this.proxy=t.proxy,this.keepAlive=t.keepAlive,this.keepAliveSettings=t.keepAliveSettings,this.autoNetworkDetection=t.autoNetworkDetection||!1,this.dedupeOnSubscribe=t.dedupeOnSubscribe||!1,this.maximumCacheSize=t.maximumCacheSize||100,this.customEncrypt=t.customEncrypt,this.customDecrypt=t.customDecrypt,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=t.logVerbosity||!1,this.suppressLeaveEvents=t.suppressLeaveEvents||!1,this.announceFailedHeartbeats=t.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=t.announceSuccessfulHeartbeats||!1,this.useInstanceId=t.useInstanceId||!1,this.useRequestId=t.useRequestId||!1,this.requestMessageCountThreshold=t.requestMessageCountThreshold,this.setTransactionTimeout(t.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(t.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(t.useSendBeacon||!0),this.setPresenceTimeout(t.presenceTimeout||300),null!=t.heartbeatInterval&&this.setHeartbeatInterval(t.heartbeatInterval),this.setUUID(this._decideUUID(t.uuid))}return i(r,[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(e){return this.authKey=e,this}},{key:"setCipherKey",value:function(e){return this.cipherKey=e,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(e){return this._db&&this._db.set&&this._db.set(this.subscribeKey+"uuid",e),this.UUID=e,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(e){return this.filterExpression=e,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(e){return this._presenceTimeout=e,this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(e){this.proxy=e}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(e){return this._subscribeRequestTimeout=e,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(e){return this._transactionalRequestTimeout=e,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(e){return this._useSendBeacon=e,this}},{key:"getVersion",value:function(){return"4.21.7"}},{key:"_decideUUID",value:function(e){return e||(this._db&&this._db.get&&this._db.get(this.subscribeKey+"uuid")?this._db.get(this.subscribeKey+"uuid"):"pn-"+o.default.createUUID())}}]),r}());t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4),s=(r=i)&&r.__esModule?r:{default:r};t.default={createUUID:function(){return s.default.uuid?s.default.uuid():(0,s.default)()}},e.exports=t.default},function(e,t,n){var r,i,s;i=[t],void 0!==(s="function"==typeof(r=function(e){function t(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function n(e,t){var n=r[t||"all"];return n&&n.test(e)||!1}var r={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};t.isUUID=n,t.VERSION="0.1.0",e.uuid=t,e.isUUID=n})?r.apply(t,i):r)&&(e.exports=s)},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=r((r(n(2)),n(7))),s=function(){function n(e){var t=e.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this._config=t,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return i(n,[{key:"HMACSHA256",value:function(e){return a.default.HmacSHA256(e,this._config.secretKey).toString(a.default.enc.Base64)}},{key:"SHA256",value:function(e){return a.default.SHA256(e).toString(a.default.enc.Hex)}},{key:"_parseOptions",value:function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t}},{key:"_decodeKey",value:function(e,t){return"base64"===t.keyEncoding?a.default.enc.Base64.parse(e):"hex"===t.keyEncoding?a.default.enc.Hex.parse(e):e}},{key:"_getPaddedKey",value:function(e,t){return e=this._decodeKey(e,t),t.encryptKey?a.default.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e}},{key:"_getMode",value:function(e){return"ecb"===e.mode?a.default.mode.ECB:a.default.mode.CBC}},{key:"_getIV",value:function(e){return"cbc"===e.mode?a.default.enc.Utf8.parse(this._iv):null}},{key:"encrypt",value:function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)}},{key:"decrypt",value:function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)}},{key:"pnEncrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var r=this._getIV(n),i=this._getMode(n),s=this._getPaddedKey(t||this._config.cipherKey,n);return a.default.AES.encrypt(e,s,{iv:r,mode:i}).ciphertext.toString(a.default.enc.Base64)||e}},{key:"pnDecrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var r=this._getIV(n),i=this._getMode(n),s=this._getPaddedKey(t||this._config.cipherKey,n);try{var o=a.default.enc.Base64.parse(e),u=a.default.AES.decrypt({ciphertext:o},s,{iv:r,mode:i}).toString(a.default.enc.Utf8);return JSON.parse(u)}catch(e){return null}}}]),n}();t.default=s,e.exports=t.default},function(e,t){"use strict";var n,r,i,s,c,o,u,a,l,f,C=C||function(u,e){var t={},n=t.lib={},r=function(){},i=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=u.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*u.random()|0);return new a.init(t,e)}}),s=t.enc={},o=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,s=r/(4*i);if(e=(s=e?u.ceil(s):u.max((0|s)-this._minBufferSize,0))*i,r=u.min(4*e,r),e){for(var o=0;o<e;o+=i)this._doProcessBlock(n,o);o=n.splice(0,e),t.sigBytes-=r}return new a.init(o,r)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new d.HMAC.init(n,t).finalize(e)}}});var d=t.algo={};return t}(Math);!function(i){for(var e=C,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,s=[],p=[],o=function(e){return 4294967296*(e-(0|e))|0},u=2,a=0;a<64;){var c;e:{c=u;for(var l=i.sqrt(c),f=2;f<=l;f++)if(!(c%f)){c=!1;break e}c=!0}c&&(a<8&&(s[a]=o(i.pow(u,.5))),p[a]=o(i.pow(u,1/3)),a++),u++}var g=[];r=r.SHA256=n.extend({_doReset:function(){this._hash=new t.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],c=n[6],l=n[7],f=0;f<64;f++){if(f<16)g[f]=0|e[t+f];else{var d=g[f-15],h=g[f-2];g[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+g[f-7]+((h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10)+g[f-16]}d=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&a^~u&c)+p[f]+g[f],h=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),l=c,c=a,a=u,u=o+d|0,o=s,s=i,i=r,r=d+h|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+a|0,n[6]=n[6]+c|0,n[7]=n[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=i.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(r),e.HmacSHA256=n._createHmacHelper(r)}(Math),f=(l=C).enc.Utf8,l.algo.HMAC=l.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=f.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),o=i.words,u=s.words,a=0;a<n;a++)o[a]^=1549556828,u[a]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),a=(u=C).lib.WordArray,u.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;o<4&&i+.75*o<n;o++)e.push(r.charAt(s>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;(r=n.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],i=0,s=0;s<t;s++)if(s%4){var o=n.indexOf(e.charAt(s-1))<<s%4*2,u=n.indexOf(e.charAt(s))>>>6-s%4*2;r[i>>>2]|=(o|u)<<24-i%4*8,i++}return a.create(r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(s){function S(e,t,n,r,i,s,o){return((e=e+(t&n|~t&r)+i+o)<<s|e>>>32-s)+t}function O(e,t,n,r,i,s,o){return((e=e+(t&r|n&~r)+i+o)<<s|e>>>32-s)+t}function T(e,t,n,r,i,s,o){return((e=e+(t^n^r)+i+o)<<s|e>>>32-s)+t}function M(e,t,n,r,i,s,o){return((e=e+(n^(t|~r))+i+o)<<s|e>>>32-s)+t}for(var e=C,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,w=[],i=0;i<64;i++)w[i]=4294967296*s.abs(s.sin(i+1))|0;r=r.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=e[o=t+n];e[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}n=this._hash.words;var i,s,o=e[t+0],u=(r=e[t+1],e[t+2]),a=e[t+3],c=e[t+4],l=e[t+5],f=e[t+6],d=e[t+7],h=e[t+8],p=e[t+9],g=e[t+10],y=e[t+11],b=e[t+12],v=e[t+13],_=e[t+14],m=e[t+15],P=n[0],k=M(k=M(k=M(k=M(k=T(k=T(k=T(k=T(k=O(k=O(k=O(k=O(k=S(k=S(k=S(k=S(k=n[1],s=S(s=n[2],i=S(i=n[3],P=S(P,k,s,i,o,7,w[0]),k,s,r,12,w[1]),P,k,u,17,w[2]),i,P,a,22,w[3]),s=S(s,i=S(i,P=S(P,k,s,i,c,7,w[4]),k,s,l,12,w[5]),P,k,f,17,w[6]),i,P,d,22,w[7]),s=S(s,i=S(i,P=S(P,k,s,i,h,7,w[8]),k,s,p,12,w[9]),P,k,g,17,w[10]),i,P,y,22,w[11]),s=S(s,i=S(i,P=S(P,k,s,i,b,7,w[12]),k,s,v,12,w[13]),P,k,_,17,w[14]),i,P,m,22,w[15]),s=O(s,i=O(i,P=O(P,k,s,i,r,5,w[16]),k,s,f,9,w[17]),P,k,y,14,w[18]),i,P,o,20,w[19]),s=O(s,i=O(i,P=O(P,k,s,i,l,5,w[20]),k,s,g,9,w[21]),P,k,m,14,w[22]),i,P,c,20,w[23]),s=O(s,i=O(i,P=O(P,k,s,i,p,5,w[24]),k,s,_,9,w[25]),P,k,a,14,w[26]),i,P,h,20,w[27]),s=O(s,i=O(i,P=O(P,k,s,i,v,5,w[28]),k,s,u,9,w[29]),P,k,d,14,w[30]),i,P,b,20,w[31]),s=T(s,i=T(i,P=T(P,k,s,i,l,4,w[32]),k,s,h,11,w[33]),P,k,y,16,w[34]),i,P,_,23,w[35]),s=T(s,i=T(i,P=T(P,k,s,i,r,4,w[36]),k,s,c,11,w[37]),P,k,d,16,w[38]),i,P,g,23,w[39]),s=T(s,i=T(i,P=T(P,k,s,i,v,4,w[40]),k,s,o,11,w[41]),P,k,a,16,w[42]),i,P,f,23,w[43]),s=T(s,i=T(i,P=T(P,k,s,i,p,4,w[44]),k,s,b,11,w[45]),P,k,m,16,w[46]),i,P,u,23,w[47]),s=M(s,i=M(i,P=M(P,k,s,i,o,6,w[48]),k,s,d,10,w[49]),P,k,_,15,w[50]),i,P,l,21,w[51]),s=M(s,i=M(i,P=M(P,k,s,i,b,6,w[52]),k,s,a,10,w[53]),P,k,g,15,w[54]),i,P,r,21,w[55]),s=M(s,i=M(i,P=M(P,k,s,i,h,6,w[56]),k,s,m,10,w[57]),P,k,f,15,w[58]),i,P,v,21,w[59]),s=M(s,i=M(i,P=M(P,k,s,i,c,6,w[60]),k,s,y,10,w[61]),P,k,u,15,w[62]),i,P,p,21,w[63]);n[0]=n[0]+P|0,n[1]=n[1]+k|0,n[2]=n[2]+s|0,n[3]=n[3]+i|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=s.floor(n/4294967296);for(t[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;n<4;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.MD5=n._createHelper(r),e.HmacMD5=n._createHmacHelper(r)}(Math),s=(r=(i=C).lib).Base,c=r.WordArray,o=(r=i.algo).EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:r.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(o=this.cfg).hasher.create(),r=c.create(),i=r.words,s=o.keySize,o=o.iterations;i.length<s;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var a=1;a<o;a++)u=n.finalize(u),n.reset();r.concat(u)}return r.sigBytes=4*s,r}}),i.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)},C.lib.Cipher||function(e){var t=(h=C).lib,n=t.Base,o=t.WordArray,r=t.BufferedBlockAlgorithm,i=h.enc.Base64,s=h.algo.EvpKDF,u=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return("string"==typeof t?p:d).encrypt(r,e,t,n)},decrypt:function(e,t,n){return("string"==typeof t?p:d).decrypt(r,e,t,n)}}}});t.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=h.mode={},c=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},l=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();l.Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;c.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=i}}),a=a.CBC=l,l=(h.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,i=[],s=0;s<n;s+=4)i.push(r);n=o.create(i,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=u.extend({cfg:u.cfg.extend({mode:a,padding:l}),reset:function(){u.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var f=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(a=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t=(e=i.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return f.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:a}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,f.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=o.random(8)),e=s.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,f.create({key:e,iv:n,salt:r})}},p=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:h}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=C,t=e.lib.BlockCipher,n=e.algo,o=[],r=[],i=[],s=[],u=[],a=[],c=[],l=[],f=[],d=[],h=[],p=0;p<256;p++)h[p]=p<128?p<<1:p<<1^283;var g=0,y=0;for(p=0;p<256;p++){var b=(b=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&b^99;o[g]=b;var v=h[r[b]=g],_=h[v],m=h[_],P=257*h[b]^16843008*b;i[g]=P<<24|P>>>8,s[g]=P<<16|P>>>16,u[g]=P<<8|P>>>24,a[g]=P,P=16843009*m^65537*_^257*v^16843008*g,c[b]=P<<24|P>>>8,l[b]=P<<16|P>>>16,f[b]=P<<8|P>>>24,d[b]=P,g?(g=v^h[h[h[m^v]]],y^=h[h[y]]):g=y=1}var k=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],i=0;i<n;i++)if(i<t)r[i]=e[i];else{var s=r[i-1];i%t?6<t&&4==i%t&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=o[(s=s<<8|s>>>24)>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=k[i/t|0]<<24),r[i]=r[i-t]^s}for(e=this._invKeySchedule=[],t=0;t<n;t++)i=n-t,s=t%4?r[i]:r[i-4],e[t]=t<4||i<=4?s:c[o[s>>>24]]^l[o[s>>>16&255]]^f[o[s>>>8&255]]^d[o[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,s,u,a,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,l,f,d,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,o,u){for(var a=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<a;p++){var g=r[c>>>24]^i[l>>>16&255]^s[f>>>8&255]^o[255&d]^n[h++],y=r[l>>>24]^i[f>>>16&255]^s[d>>>8&255]^o[255&c]^n[h++],b=r[f>>>24]^i[d>>>16&255]^s[c>>>8&255]^o[255&l]^n[h++];d=r[d>>>24]^i[c>>>16&255]^s[l>>>8&255]^o[255&f]^n[h++],c=g,l=y,f=b}g=(u[c>>>24]<<24|u[l>>>16&255]<<16|u[f>>>8&255]<<8|u[255&d])^n[h++],y=(u[l>>>24]<<24|u[f>>>16&255]<<16|u[d>>>8&255]<<8|u[255&c])^n[h++],b=(u[f>>>24]<<24|u[d>>>16&255]<<16|u[c>>>8&255]<<8|u[255&l])^n[h++],d=(u[d>>>24]<<24|u[c>>>16&255]<<16|u[l>>>8&255]<<8|u[255&f])^n[h++],e[t]=g,e[t+1]=y,e[t+2]=b,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}(),C.mode.ECB=((n=C.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=r((r((r((r(n(6)),n(2))),n(9))),n(11))),f=r(n(14)),d=r(n(15)),h=r((n(5),n(10))),s=function(){function c(e){var t=e.subscribeEndpoint,n=e.leaveEndpoint,r=e.heartbeatEndpoint,i=e.setStateEndpoint,s=e.timeEndpoint,o=e.config,u=e.crypto,a=e.listenerManager;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),this._listenerManager=a,this._config=o,this._leaveEndpoint=n,this._heartbeatEndpoint=r,this._setStateEndpoint=i,this._subscribeEndpoint=t,this._crypto=u,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new l.default({timeEndpoint:s}),this._dedupingManager=new f.default({config:o})}return i(c,[{key:"adaptStateChange",value:function(e,t){var n=this,r=e.state,i=e.channels,s=void 0===i?[]:i,o=e.channelGroups,u=void 0===o?[]:o;return s.forEach(function(e){e in n._channels&&(n._channels[e].state=r)}),u.forEach(function(e){e in n._channelGroups&&(n._channelGroups[e].state=r)}),this._setStateEndpoint({state:r,channels:s,channelGroups:u},t)}},{key:"adaptPresenceChange",value:function(e){var t=this,n=e.connected,r=e.channels,i=void 0===r?[]:r,s=e.channelGroups,o=void 0===s?[]:s;n?(i.forEach(function(e){t._heartbeatChannels[e]={state:{}}}),o.forEach(function(e){t._heartbeatChannelGroups[e]={state:{}}})):(i.forEach(function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]}),o.forEach(function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]}),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:i,channelGroups:o},function(e){t._listenerManager.announceStatus(e)})),this.reconnect()}},{key:"adaptSubscribeChange",value:function(e){var t=this,n=e.timetoken,r=e.channels,i=void 0===r?[]:r,s=e.channelGroups,o=void 0===s?[]:s,u=e.withPresence,a=void 0!==u&&u,c=e.withHeartbeats,l=void 0===c||c;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),i.forEach(function(e){t._channels[e]={state:{}},a&&(t._presenceChannels[e]={}),l&&(t._heartbeatChannels[e]={}),t._pendingChannelSubscriptions.push(e)}),o.forEach(function(e){t._channelGroups[e]={state:{}},a&&(t._presenceChannelGroups[e]={}),l&&(t._heartbeatChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)}),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(e,t){var n=this,r=e.channels,i=void 0===r?[]:r,s=e.channelGroups,o=void 0===s?[]:s,u=[],a=[];i.forEach(function(e){e in n._channels&&(delete n._channels[e],u.push(e),e in n._heartbeatChannels&&delete n._heartbeatChannels[e]),e in n._presenceChannels&&(delete n._presenceChannels[e],u.push(e))}),o.forEach(function(e){e in n._channelGroups&&(delete n._channelGroups[e],a.push(e),e in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[e]),e in n._presenceChannelGroups&&(delete n._channelGroups[e],a.push(e))}),0===u.length&&0===a.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:u,channelGroups:a},function(e){e.affectedChannels=u,e.affectedChannelGroups=a,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)}),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var n=this,e=this.getHeartbeatChannels(),t=this.getHeartbeatChannelGroups(),r={};if(0!==e.length||0!==t.length){this.getSubscribedChannels().forEach(function(e){var t=n._channels[e].state;Object.keys(t).length&&(r[e]=t)}),this.getSubscribedChannelGroups().forEach(function(e){var t=n._channelGroups[e].state;Object.keys(t).length&&(r[e]=t)});this._heartbeatEndpoint({channels:e,channelGroups:t,state:r},function(e){e.error&&n._config.announceFailedHeartbeats&&n._listenerManager.announceStatus(e),e.error&&n._config.autoNetworkDetection&&n._isOnline&&(n._isOnline=!1,n.disconnect(),n._listenerManager.announceNetworkDown(),n.reconnect()),!e.error&&n._config.announceSuccessfulHeartbeats&&n._listenerManager.announceStatus(e)}.bind(this))}}},{key:"_startSubscribeLoop",value:function(){this._stopSubscribeLoop();var t=[],n=[];if(Object.keys(this._channels).forEach(function(e){return t.push(e)}),Object.keys(this._presenceChannels).forEach(function(e){return t.push(e+"-pnpres")}),Object.keys(this._channelGroups).forEach(function(e){return n.push(e)}),Object.keys(this._presenceChannelGroups).forEach(function(e){return n.push(e+"-pnpres")}),0!==t.length||0!==n.length){var e={channels:t,channelGroups:n,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(e,this._processSubscribeResponse.bind(this))}}},{key:"_processSubscribeResponse",value:function(t,e){var o=this;if(t.error)t.category===h.default.PNTimeoutCategory?this._startSubscribeLoop():(t.category===h.default.PNNetworkIssuesCategory?(this.disconnect(),t.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection(function(){o._config.autoNetworkDetection&&!o._isOnline&&(o._isOnline=!0,o._listenerManager.announceNetworkUp()),o.reconnect(),o._subscriptionStatusAnnounced=!0;var e={category:h.default.PNReconnectedCategory,operation:t.operation,lastTimetoken:o._lastTimetoken,currentTimetoken:o._currentTimetoken};o._listenerManager.announceStatus(e)}),this._reconnectionManager.startPolling()):t.category===h.default.PNBadRequestCategory&&this._stopHeartbeatTimer(),this._listenerManager.announceStatus(t));else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=e.metadata.timetoken),!this._subscriptionStatusAnnounced){var n={};n.category=h.default.PNConnectedCategory,n.operation=t.operation,n.affectedChannels=this._pendingChannelSubscriptions,n.subscribedChannels=this.getSubscribedChannels(),n.affectedChannelGroups=this._pendingChannelGroupSubscriptions,n.lastTimetoken=this._lastTimetoken,n.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(n),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var r=e.messages||[],i=this._config,s=i.requestMessageCountThreshold,u=i.dedupeOnSubscribe;if(s&&r.length>=s){var a={};a.category=h.default.PNRequestMessageCountExceededCategory,a.operation=t.operation,this._listenerManager.announceStatus(a)}r.forEach(function(e){var t=e.channel,n=e.subscriptionMatch,r=e.publishMetaData;if(t===n&&(n=null),u){if(o._dedupingManager.isDuplicate(e))return;o._dedupingManager.addEntry(e)}if(d.default.endsWith(e.channel,"-pnpres")){var i={channel:null,subscription:null};i.actualChannel=null!=n?t:null,i.subscribedChannel=null!=n?n:t,t&&(i.channel=t.substring(0,t.lastIndexOf("-pnpres"))),n&&(i.subscription=n.substring(0,n.lastIndexOf("-pnpres"))),i.action=e.payload.action,i.state=e.payload.data,i.timetoken=r.publishTimetoken,i.occupancy=e.payload.occupancy,i.uuid=e.payload.uuid,i.timestamp=e.payload.timestamp,e.payload.join&&(i.join=e.payload.join),e.payload.leave&&(i.leave=e.payload.leave),e.payload.timeout&&(i.timeout=e.payload.timeout),o._listenerManager.announcePresence(i)}else{var s={channel:null,subscription:null};s.actualChannel=null!=n?t:null,s.subscribedChannel=null!=n?n:t,s.channel=t,s.subscription=n,s.timetoken=r.publishTimetoken,s.publisher=e.issuingClientId,e.userMetadata&&(s.userMetadata=e.userMetadata),o._config.cipherKey?s.message=o._crypto.decrypt(e.payload):s.message=e.payload,o._listenerManager.announceMessage(s)}}),this._region=e.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}]),c}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=(n(5),n(10)),o=(r=s)&&r.__esModule?r:{default:r},u=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._listeners=[]}return i(e,[{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(t){var n=[];this._listeners.forEach(function(e){e!==t&&n.push(e)}),this._listeners=n}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(t){this._listeners.forEach(function(e){e.presence&&e.presence(t)})}},{key:"announceStatus",value:function(t){this._listeners.forEach(function(e){e.status&&e.status(t)})}},{key:"announceMessage",value:function(t){this._listeners.forEach(function(e){e.message&&e.message(t)})}},{key:"announceNetworkUp",value:function(){var e={};e.category=o.default.PNNetworkUpCategory,this.announceStatus(e)}},{key:"announceNetworkDown",value:function(){var e={};e.category=o.default.PNNetworkDownCategory,this.announceStatus(e)}}]),e}();t.default=u,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(12),s=(i&&i.__esModule,n(5),function(){function n(e){var t=e.timeEndpoint;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this._timeEndpoint=t}return r(n,[{key:"onReconnection",value:function(e){this._reconnectionCallback=e}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var t=this;this._timeEndpoint(function(e){e.error||(clearInterval(t._timeTimer),t._reconnectionCallback())})}}]),n}());t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNTimeOperation},t.getURL=function(){return"/time/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.isAuthSupported=function(){return!1},t.handleResponse=function(e,t){return{timetoken:t[0]}},t.validateParams=function(){};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerAudit:"PNAccessManagerAudit",PNUuidMetadataCreate:"PNUuidMetadataCreate"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(2),s=(i&&i.__esModule,n(5),function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}),o=function(){function n(e){var t=e.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.hashHistory=[],this._config=t}return r(n,[{key:"getKey",value:function(e){var t=s(JSON.stringify(e.payload)).toString();return e.publishMetaData.publishTimetoken+"-"+t}},{key:"isDuplicate",value:function(e){return this.hashHistory.includes(this.getKey(e))}},{key:"addEntry",value:function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}]),n}();t.default=o,e.exports=t.default},function(e,t){"use strict";function n(e){return encodeURIComponent(e).replace(/[!~*'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(e){return(t=e,n=[],Object.keys(t).forEach(function(e){return n.push(e)}),n).sort();var t,n}e.exports={signPamFromParams:function(t){return r(t).map(function(e){return e+"="+n(t[e])}).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var n=void 0,r=void 0;return{promise:new Promise(function(e,t){n=e,r=t}),reject:r,fulfill:n}},encodeString:n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function v(e){return(t={message:e}).type="validationError",t.error=!0,t;var t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r,i){var e=r.networking,t=r.config,s=null,o=null,u={};s=i.getOperation()===P.default.PNTimeOperation||i.getOperation()===P.default.PNChannelGroupsOperation?arguments.length<=2?void 0:arguments[2]:(u=arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||s||(o=m.default.createPromise());var n,a,c,l=i.validateParams(r,u);if(l)return s?s(v(l)):o?(o.reject(new k("Validation failed, check status for details",v(l))),o.promise):void 0;var f=i.prepareParams(r,u),d=(a=r,c=u,(n=i).usePost&&n.usePost(a,c)?n.postURL(a,c):n.usePut&&n.usePut(a,c)?n.putURL(a,c):n.useDelete&&n.useDelete(a,c)?n.deleteURL(a,c):n.getURL(a,c)),h=void 0,p={url:d,operation:i.getOperation(),timeout:i.getRequestTimeout(r)};f.uuid=t.UUID,f.pnsdk=function(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-"+e.sdkFamily;return e.partnerId&&(t+="-"+e.partnerId),t+"/"+e.getVersion()}(t),t.useInstanceId&&(f.instanceid=t.instanceId),t.useRequestId&&(f.requestid=_.default.createUUID()),i.isAuthSupported()&&t.getAuthKey()&&(f.auth=t.getAuthKey()),t.secretKey&&function(e,t,n){var r=e.config,i=e.crypto;n.timestamp=Math.floor((new Date).getTime()/1e3);var s=r.subscribeKey+"\n"+r.publishKey+"\n"+t+"\n";s+=m.default.signPamFromParams(n);var o=i.HMACSHA256(s);o=(o=o.replace(/\+/g,"-")).replace(/\//g,"_"),n.signature=o}(r,d,f);var g=function(e,t){if(e.error)s?s(e):o&&o.reject(new k("PubNub call failed, check status for details",e));else{var n=i.handleResponse(r,t,u);s?s(e,n):o&&o.fulfill(n)}};if(i.usePost&&i.usePost(r,u)){var y=i.postPayload(r,u);h=e.POST(f,y,p,g)}else if(i.usePut&&i.usePut()){var b=i.postPayload(r,u);h=e.PUT(f,b,p,g)}else h=i.useDelete&&i.useDelete()?e.DELETE(f,p,g):e.GET(f,p,g);return i.getOperation()===P.default.PNSubscribeOperation?h:o?o.promise:void 0};var _=r(n(3)),m=r((n(5),n(15))),P=r((r(n(2)),n(13))),k=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.name=n.constructor.name,n.status=t,n.message=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,Error),r}();e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelTimeTokens,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing ChannelTimeTokens"},t.getURL=function(e,t){var n=t.channels,r=t.channelTimeTokens;return"/v3/history/sub-key/"+e.config.subscribeKey+"/message-counts/"+n+"?channelsTimetoken="+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=t.timetoken,i=e.config;return n?r?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing timetoken":"Missing Channel"},t.putURL=function(e,t){var n=t.channel,r=t.timetoken;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/message/"+r+"/action"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.postPayload=function(e,t){return n=e,r=t.message,i=n.crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){return t.uuid,e.config,"/v1/data/sub-key/${config.subscribeKey}/uuid/{$uuid}"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.deleteURL=function(e,t){return t.uuid,e.config,"/v1/data/sub-key/${config.subscribeKey}/uuid/{$uuid}"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.putURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.putURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.deleteURL=function(e,t){return t.uuid,e.config,"/v1/data/sub-key/${config.subscribeKey}/uuid/{$uuid}"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.deleteURL=function(e,t){return t.uuid,e.config,"/v1/data/sub-key/${config.subscribeKey}/uuid/{$uuid}"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.putURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n+"/devices"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.user,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.deleteURL=function(e,t){var n=t.user_uuid,r=t.device_uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n+"/devices/"+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.uuid,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing UUID"},t.getURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n+"/devices"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePost=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.postURL=function(e,t){return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel"},t.putURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel"},t.getURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.deleteURL=function(e,t){return t.uuid,e.config,"/v1/data/sub-key/${config.subscribeKey}/uuid/{$uuid}"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.putURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/users"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.user,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels"},t.deleteURL=function(e,t){var n=t.channel,r=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/users/"+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/users"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.uuid,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing UUID"},t.getURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/users/"+n+"/spaces"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.usePut=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.putURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/devices"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.user,{}},t.postPayload=function(e,t){return r=t,i=(n=e).crypto,s=n.config,o=JSON.stringify(r),s.cipherKey&&(o=i.encrypt(o),o=JSON.stringify(o)),o;var n,r,i,s,o},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.useDelete=function(){return!0},t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels"},t.deleteURL=function(e,t){var n=t.channel,r=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/devices/"+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v1/data/sub-key/"+e.config.subscribeKey+"/spaces/"+n+"/devices"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUuidMetadataCreate},t.validateParams=function(e,t){var n=t.uuid,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing UUID"},t.getURL=function(e,t){var n=t.uuid;return"/v1/data/sub-key/"+e.config.subscribeKey+"/devices/"+n+"/spaces"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return t.name,t.description,{}},t.handleResponse=function(e,t){return t};var i=r((n(5),n(13)));r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAddChannelsToGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveChannelsFromGroupOperation},t.validateParams=function(e,t){var n=t.channels,r=t.channelGroup,i=e.config;return r?n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)+"/remove"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.handleResponse=function(){return{}};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNChannelGroupsOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{groups:t.payload.groups}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNChannelsForGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{channels:t.payload.channels}};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,s=e.config;return n?r?i&&0!==i.length?s.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels;return{type:n,add:(void 0===r?[]:r).join(",")}},t.handleResponse=function(){return{}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=t.channels,s=e.config;return n?r?i&&0!==i.length?s.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,r=t.channels;return{type:n,remove:(void 0===r?[]:r).join(",")}},t.handleResponse=function(){return{}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return n?r?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(e,t){return{channels:t}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNRemoveAllPushNotificationsOperation},t.validateParams=function(e,t){var n=t.device,r=t.pushGateway,i=e.config;return n?r?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n+"/remove"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(){return{}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUnsubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,s=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+o.default.encodeString(s)+"/leave"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return 0<r.length&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(){return{}};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNWhereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r;return"/v2/presence/sub-key/"+n.subscribeKey+"/uuid/"+i},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHeartbeatOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,s=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+o.default.encodeString(s)+"/heartbeat"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.state,s=void 0===i?{}:i,o=e.config,u={};return 0<r.length&&(u["channel-group"]=r.join(",")),u.state=JSON.stringify(s),u.heartbeat=o.getPresenceTimeout(),u},t.handleResponse=function(){return{}};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetStateOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.uuid,i=void 0===r?n.UUID:r,s=t.channels,o=void 0===s?[]:s,u=0<o.length?o.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+a.default.encodeString(u)+"/uuid/"+i},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i={};return 0<r.length&&(i["channel-group"]=r.join(",")),i},t.handleResponse=function(e,t,n){var r=n.channels,i=void 0===r?[]:r,s=n.channelGroups,o=void 0===s?[]:s,u={};return 1===i.length&&0===o.length?u[i[0]]=t.payload:u=t.payload,{channels:u}};var i=r((n(5),n(13))),a=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSetStateOperation},t.validateParams=function(e,t){var n=e.config,r=t.state,i=t.channels,s=void 0===i?[]:i,o=t.channelGroups,u=void 0===o?[]:o;return r?n.subscribeKey?0===s.length&&0===u.length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,s=0<i.length?i.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+o.default.encodeString(s)+"/uuid/"+n.UUID+"/data"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.state,r=t.channelGroups,i=void 0===r?[]:r,s={};return s.state=JSON.stringify(n),0<i.length&&(s["channel-group"]=i.join(",")),s},t.handleResponse=function(e,t){return{state:t.payload}};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,s=t.channelGroups,o=void 0===s?[]:s,u="/v2/presence/sub-key/"+n.subscribeKey;if(0<i.length||0<o.length){var a=0<i.length?i.join(","):",";u+="/channel/"+c.default.encodeString(a)}return u},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,r=void 0===n?[]:n,i=t.includeUUIDs,s=void 0===i||i,o=t.includeState,u=void 0!==o&&o,a={};return s||(a.disable_uuids=1),u&&(a.state=1),0<r.length&&(a["channel-group"]=r.join(",")),a},t.handleResponse=function(e,r,t){var n,i,s,o=t.channels,u=void 0===o?[]:o,a=t.channelGroups,c=void 0===a?[]:a,l=t.includeUUIDs,f=void 0===l||l,d=t.includeState,h=void 0!==d&&d;return 1<u.length||0<c.length||0===c.length&&0===u.length?((s={}).totalChannels=r.payload.total_channels,s.totalOccupancy=r.payload.total_occupancy,s.channels={},Object.keys(r.payload.channels).forEach(function(e){var t=r.payload.channels[e],n=[];return s.channels[e]={occupants:n,name:e,occupancy:t.occupancy},f&&t.uuids.forEach(function(e){h?n.push({state:e.state,uuid:e.uuid}):n.push({state:null,uuid:e})}),s}),s):(i=[],(n={}).totalChannels=1,n.totalOccupancy=r.occupancy,n.channels={},n.channels[u[0]]={occupants:i,name:u[0],occupancy:r.occupancy},f&&r.uuids&&r.uuids.forEach(function(e){h?i.push({state:e.state,uuid:e.uuid}):i.push({state:null,uuid:e})}),n)};var i=r((n(5),n(13))),c=r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNAccessManagerAudit},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/audit/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channel,r=t.channelGroup,i=t.authKeys,s=void 0===i?[]:i,o={};return n&&(o.channel=n),r&&(o["channel-group"]=r),0<s.length&&(o.auth=s.join(",")),o},t.handleResponse=function(e,t){return t.payload};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNAccessManagerGrant},t.validateParams=function(e){var t=e.config;return t.subscribeKey?t.publishKey?t.secretKey?void 0:"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/grant/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=t.channelGroups,s=void 0===i?[]:i,o=t.ttl,u=t.read,a=void 0!==u&&u,c=t.write,l=void 0!==c&&c,f=t.manage,d=void 0!==f&&f,h=t.authKeys,p=void 0===h?[]:h,g={};return g.r=a?"1":"0",g.w=l?"1":"0",g.m=d?"1":"0",0<r.length&&(g.channel=r.join(",")),0<s.length&&(g["channel-group"]=s.join(",")),0<p.length&&(g.auth=p.join(",")),(o||0===o)&&(g.ttl=o),g},t.handleResponse=function(){return{}};var r,i=(n(5),n(13)),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=e.crypto,r=e.config,i=JSON.stringify(t);return r.cipherKey&&(i=n.encrypt(i),i=JSON.stringify(i)),i}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getOperation=function(){return i.default.PNPublishOperation},t.validateParams=function(e,t){var n=e.config,r=t.message;return t.channel?r?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.usePost=function(e,t){var n=t.sendByPost;return void 0!==n&&n},t.getURL=function(e,t){var n=e.config,r=t.channel,i=s(e,t.message);return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+o.default.encodeString(r)+"/0/"+o.default.encodeString(i)},t.postURL=function(e,t){var n=e.config,r=t.channel;return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+o.default.encodeString(r)+"/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.postPayload=function(e,t){return s(e,t.message)},t.prepareParams=function(e,t){var n=t.meta,r=t.replicate,i=void 0===r||r,s=t.storeInHistory,o=t.ttl,u={};return null!=s&&(u.store=s?"1":"0"),o&&(u.ttl=o),!1===i&&(u.norep="true"),n&&"object"===(void 0===n?"undefined":a(n))&&(u.meta=JSON.stringify(n)),u},t.handleResponse=function(e,t){return{timetoken:t[2]}};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHistoryOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v2/history/sub-key/"+e.config.subscribeKey+"/channel/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.reverse,s=t.count,o=void 0===s?100:s,u=t.stringifiedTimeToken,a=void 0!==u&&u,c={include_token:"true"};return c.count=o,n&&(c.start=n),r&&(c.end=r),a&&(c.string_message_token="true"),null!=i&&(c.reverse=i.toString()),c},t.handleResponse=function(n,e){var r={messages:[],startTimeToken:e[1],endTimeToken:e[2]};return e[0].forEach(function(e){var t={timetoken:e.timetoken,entry:function(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}(n,e.message)};r.messages.push(t)}),r};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNDeleteMessagesOperation},t.validateParams=function(e,t){var n=t.channel,r=e.config;return n?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel;return"/v3/history/sub-key/"+e.config.subscribeKey+"/channel/"+s.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i={};return n&&(i.start=n),r&&(i.end=r),i},t.handleResponse=function(e,t){return t.payload};var i=r((n(5),n(13))),s=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNFetchMessagesOperation},t.validateParams=function(e,t){var n=t.channels,r=e.config;return n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing channels"},t.getURL=function(e,t){var n=t.channels,r=void 0===n?[]:n,i=e.config,s=0<r.length?r.join(","):",";return"/v3/history/sub-key/"+i.subscribeKey+"/channel/"+o.default.encodeString(s)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,r=t.end,i=t.count,s=t.stringifiedTimeToken,o=void 0!==s&&s,u={};return i&&(u.max=i),n&&(u.start=n),r&&(u.end=r),o&&(u.string_message_token="true"),u},t.handleResponse=function(r,e){var i={channels:{}};return Object.keys(e.channels||{}).forEach(function(n){i.channels[n]=[],(e.channels[n]||[]).forEach(function(e){var t={};t.channel=n,t.subscription=null,t.timetoken=e.timetoken,t.message=function(e,t){var n=e.config,r=e.crypto;if(!n.cipherKey)return t;try{return r.decrypt(t)}catch(e){return t}}(r,e.message),i.channels[n].push(t)})}),i};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,r=t.channels,i=void 0===r?[]:r,s=0<i.length?i.join(","):",";return"/v2/subscribe/"+n.subscribeKey+"/"+o.default.encodeString(s)+"/0"},t.getRequestTimeout=function(e){return e.config.getSubscribeTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=e.config,r=t.channelGroups,i=void 0===r?[]:r,s=t.timetoken,o=t.filterExpression,u=t.region,a={heartbeat:n.getPresenceTimeout()};return 0<i.length&&(a["channel-group"]=i.join(",")),o&&0<o.length&&(a["filter-expr"]=o),s&&(a.tt=s),u&&(a.tr=u),a},t.handleResponse=function(e,t){var r=[];t.m.forEach(function(e){var t={publishTimetoken:e.p.t,region:e.p.r},n={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};r.push(n)});var n={timetoken:t.t.t,region:t.t.r};return{messages:r,metadata:n}};var i=r((n(5),n(13))),o=r(n(15))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=r((r(n(2)),n(10))),o=(n(5),function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._modules={},Object.keys(t).forEach(function(e){n._modules[e]=t[e].bind(n)})}return i(e,[{key:"init",value:function(e){this._config=e,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){if(-1===this._providedFQDN.indexOf("pubsub."))return this._providedFQDN;var e;return this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),e=this._currentSubDomain.toString(),this._providedFQDN.replace("pubsub","ps"+e)}},{key:"hasModule",value:function(e){return e in this._modules}},{key:"shiftStandardOrigin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._standardOrigin=this.nextOrigin(e),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"PUT",value:function(e,t,n,r){return this._modules.put(e,t,n,r)}},{key:"POST",value:function(e,t,n,r){return this._modules.post(e,t,n,r)}},{key:"GET",value:function(e,t,n){return this._modules.get(e,t,n)}},{key:"DELETE",value:function(e,t,n){return this._modules.del(e,t,n)}},{key:"_detectErrorCategory",value:function(e){if("ENOTFOUND"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return s.default.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return s.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return s.default.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return s.default.PNNetworkIssuesCategory;if(e.timeout)return s.default.PNTimeoutCategory;if("ETIMEDOUT"===e.code)return s.default.PNNetworkIssuesCategory;if(e.response){if(e.response.badRequest)return s.default.PNBadRequestCategory;if(e.response.forbidden)return s.default.PNAccessDeniedCategory}return s.default.PNUnknownCategory}}]),e}());t.default=o,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e){try{return localStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}},e.exports=t.default},function(e,t,n){"use strict";function r(r){var i=(new Date).getTime(),e=(new Date).toISOString(),s=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;s.log("<<<<<"),s.log("["+e+"]","\n",r.url,"\n",r.qs),s.log("-----"),r.on("response",function(e){var t=(new Date).getTime()-i,n=(new Date).toISOString();s.log(">>>>>>"),s.log("["+n+" / "+t+"]","\n",r.url,"\n",r.qs,"\n",e.text),s.log("-----")})}function s(e,i,s){var o=this;return this._config.logVerbosity&&(e=e.use(r)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e)),e.timeout(i.timeout).end(function(t,e){var n={};if(n.error=null!==t,n.operation=i.operation,e&&e.status&&(n.statusCode=e.status),t){if(t.response&&t.response.text&&!o._config.logVerbosity)try{n.errorData=JSON.parse(t.response.text)}catch(e){n.errorData=t}else n.errorData=t;return n.category=o._detectErrorCategory(t),s(n,null)}var r=JSON.parse(e.text);return r.error&&1===r.error&&r.status&&r.message&&r.service?(n.errorData=r,n.statusCode=r.status,n.error=!0,n.category=o._detectErrorCategory(n),s(n,null)):s(n,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){var r=u.default.get(this.getStandardOrigin()+t.url).query(e);return s.call(this,r,t,n)},t.post=function(e,t,n,r){var i=u.default.post(this.getStandardOrigin()+n.url).set("Content-Type","application/json").query(e).send(t);return s.call(this,i,n,r)},t.put=function(e,t,n,r){var i=u.default.put(this.getStandardOrigin()+n.url).set("Content-Type","application/json").query(e).send(t);return s.call(this,i,n,r)},t.del=function(e,t,n){var r=u.default.delete(this.getStandardOrigin()+t.url).query(e);return s.call(this,r,t,n)};var i,o=n(68),u=(i=o)&&i.__esModule?i:{default:i};n(5)},function(e,n,t){function r(){}function i(e){if(!p(e))return e;var t=[];for(var n in e)s(t,n,e[n]);return t.join("&")}function s(t,n,e){if(null!=e)if(Array.isArray(e))e.forEach(function(e){s(t,n,e)});else if(p(e))for(var r in e)s(t,n+"["+r+"]",e[r]);else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e));else null===e&&t.push(encodeURIComponent(n))}function o(e){for(var t,n,r={},i=e.split("&"),s=0,o=i.length;s<o;++s)-1==(n=(t=i[s]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function u(e){return/[\/+]json($|[^-\w])/.test(e)}function a(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,r,i,s=e.split(/\r?\n/),o={},u=0,a=s.length;u<a;++u)-1!==(t=(n=s[u]).indexOf(":"))&&(r=n.slice(0,t).toLowerCase(),i=v(n.slice(t+1)),o[r]=i);return o}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function c(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,n=null;try{n=new a(r)}catch(n){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=n,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)})}function l(e,t,n){var r=b("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var f;f="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var d=t(69),h=t(70),p=t(71),g=t(72),y=t(74),b=n=e.exports=function(e,t){return"function"==typeof t?new n.Request("GET",e).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=c,b.getXHR=function(){if(!(!f.XMLHttpRequest||f.location&&"file:"==f.location.protocol&&f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var v="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=i,b.parseString=o,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},g(a.prototype),a.prototype._parseBody=function(e){var t=b.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&u(this.type)&&(t=b.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},a.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},b.Response=a,d(c.prototype),h(c.prototype),c.prototype.type=function(e){return this.set("Content-Type",b.types[e]||e),this},c.prototype.accept=function(e){return this.set("Accept",b.types[e]||e),this},c.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},c.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},c.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},c.prototype.pipe=c.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},c.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var n=this,r=this.xhr=b.getXHR(),e=this._formData||this._data;this._setTimeouts(),r.onreadystatechange=function(){var e=r.readyState;if(2<=e&&n._responseTimeoutTimer&&clearTimeout(n._responseTimeoutTimer),4==e){var t;try{t=r.status}catch(e){t=0}if(!t){if(n.timedout||n._aborted)return;return n.crossDomainError()}n.emit("end")}};var t=function(e,t){0<t.total&&(t.percent=t.loaded/t.total*100),t.direction=e,n.emit("progress",t)};if(this.hasListeners("progress"))try{r.onprogress=t.bind(null,"download"),r.upload&&(r.upload.onprogress=t.bind(null,"upload"))}catch(n){}try{this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0)}catch(n){return this.callback(n)}if(this._withCredentials&&(r.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof e&&!this._isHost(e)){var i=this._header["content-type"],s=this._serializer||b.serialize[i?i.split(";")[0]:""];!s&&u(i)&&(s=b.serialize["application/json"]),s&&(e=s(e))}for(var o in this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&r.setRequestHeader(o,this.header[o]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send(void 0!==e?e:null),this},b.agent=function(){return new y},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(r){y.prototype[r.toLowerCase()]=function(e,t){var n=new b.Request(r,e);return this._setDefaults(n),t&&n.end(t),n}}),y.prototype.del=y.prototype.delete,b.get=function(e,t,n){var r=b("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},b.head=function(e,t,n){var r=b("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},b.options=function(e,t,n){var r=b("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},b.del=l,b.delete=l,b.patch=function(e,t,n){var r=b("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},b.post=function(e,t,n){var r=b("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},b.put=function(e,t,n){var r=b("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(e.exports=r).prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}var i=n(71);(e.exports=r).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},r.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var s=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~s.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){if(!this._fullfilledPromise){var i=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(n,r){i.end(function(e,t){e?r(e):n(t)})})}return this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},r.prototype.getHeader=r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype._auth=function(e,t,n,r){switch(n.type){case"basic":this.set("Authorization","Basic "+r(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=i(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else this._data="string"==typeof e?(n||this.type("form"),"application/x-www-form-urlencoded"==(n=this._header["content-type"])?this._data?this._data+"&"+e:e:(this._data||"")+e):e;return!t||this._isHost(e)||n||this.type("json"),this},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(0<=t){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(e,t,n){if(!this._aborted){var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}var i=n(73);(e.exports=r).prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var n=i.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},e.exports=n}])},e.exports=r()},function(e,t,n){var c=n(3),l=Object.prototype.hasOwnProperty,o=Array.prototype.splice,r=Object.prototype.toString,f=function(e){return r.call(e).slice(8,-1)},i=Object.assign||function(t,n){return d(n).forEach(function(e){l.call(n,e)&&(t[e]=n[e])}),t},d="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function h(e){if(Array.isArray(e))return i(e.constructor(e.length),e);if("Map"===f(e))return new Map(e);if("Set"===f(e))return new Set(e);if(e&&"object"==typeof e){var t=Object.getPrototypeOf(e);return i(Object.create(t),e)}return e}function s(){var u=i({},p);return a.extend=function(e,t){u[e]=t},a.isEquals=function(e,t){return e===t},a;function a(i,s){"function"==typeof s&&(s={$apply:s}),Array.isArray(i)&&Array.isArray(s)||c(!Array.isArray(s),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),c("object"==typeof s&&null!==s,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(u).join(", "));var o=i;return d(s).forEach(function(e){if(l.call(u,e)){var t=i===o;o=u[e](s[e],o,s,i),t&&a.isEquals(o,i)&&(o=i)}else{var n="Map"===f(i)?a(i.get(e),s[e]):a(i[e],s[e]),r="Map"===f(o)?o.get(e):o[e];a.isEquals(n,r)&&(void 0!==n||l.call(i,e))||(o===i&&(o=h(i)),"Map"===f(o)?o.set(e,n):o[e]=n)}}),o}}var p={$push:function(e,t,n){return a(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return a(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){var i,s;return i=t,s=n,c(Array.isArray(i),"Expected $splice target to be an array; got %s",i),y(s.$splice),e.forEach(function(e){y(e),t===r&&e.length&&(t=h(r)),o.apply(t,e)}),t},$set:function(e,t,n){var r;return r=n,c(1===Object.keys(r).length,"Cannot have more than one key in an object with $set"),e},$toggle:function(e,t){g(e,"$toggle");var n=e.length?h(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return g(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=h(r)),delete t[e])}),t},$add:function(e,r,t,i){return b(r,"$add"),g(e,"$add"),"Map"===f(r)?e.forEach(function(e){var t=e[0],n=e[1];r===i&&r.get(t)!==n&&(r=h(i)),r.set(t,n)}):e.forEach(function(e){r!==i||r.has(e)||(r=h(i)),r.add(e)}),r},$remove:function(e,t,n,r){return b(t,"$remove"),g(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=h(r)),t.delete(e)}),t},$merge:function(t,n,e,r){var i,s;return i=n,c((s=t)&&"object"==typeof s,"update(): $merge expects a spec of type 'object'; got %s",s),c(i&&"object"==typeof i,"update(): $merge expects a target of type 'object'; got %s",i),d(t).forEach(function(e){t[e]!==n[e]&&(n===r&&(n=h(r)),n[e]=t[e])}),n},$apply:function(e,t){var n;return c("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},u=s();function a(e,t,n){c(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),g(t[n],n)}function g(e,t){c(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function y(e){c(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function b(e,t){var n=f(e);c("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}e.exports=u,e.exports.default=u,e.exports.newContext=s},function(e,t,n){(function(f){"use strict";e.exports=function(e,t,n,r,i,s,o,u){if("production"!==f.env.NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,u],l=0;(a=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}}).call(t,n(4))},function(e,t){var n,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],l=!1,f=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(i,s){o.default.attributes_to_delegate.forEach(function(e){var t,n;t=i,s[n=e]=t[n]}),o.default.methods_to_delegate.forEach(function(e){var t,n,r;t=i,(n=s)[r=e]=function(){return t[r].apply(n,arguments)}})};var r,i=n(6),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t){e.exports={pubnub_prefix:"pubnub",attributes_to_delegate:["channelGroups","push"],methods_to_delegate:["addListener","removeListener","removeAllListeners","hereNow","whereNow","getState","setState","grant","audit","publish","fire","history","deleteMessages","fetchMessages","time","reconnect","stop","unsubscribeAll","getSubscribedChannels","getSubscribedChannelGroups","encrypt","decrypt","getAuthKey","setAuthKey","setCipherKey","getUUID","setUUID","getFilterExpression","setFilterExpression","getVirtualSpaces","addVirtualSpace","updateVirtualSpace","getVirtualSpace","messageCounts","generateUUID","setUserData","getUserData","addUserToVirtualSpace","listUsersInVirtualSpace","listVirtualSpacesForUser","setDeviceData","getDeviceData","addDeviceToVirtualSpace","listDevicesInVirtualSpace","listVirtualSpacesForDevice","addDeviceToUser","removeDeviceFromUser","listDevicesForUser"],common_callbacks_to_wrap:["callback","error"],subscribe_listener_events_to_broadcast:["message","presence","status"],history_sort_attribute:"timetoken"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(2),o=(r=s)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.count={},this.instance=void 0}return i(e,[{key:"initialize",value:function(e){this.instance=e}},{key:"enableLoad",value:function(t){var n=this;this.instance&&t.autoload&&"number"==typeof t.autoload&&(this.count[t.channels]=t.autoload,t.channels.forEach(function(e){n.count[e]=t.autoload}))}},{key:"getHistory",value:function(s,t){var n=this;this.count[s]&&this.instance.history({channel:s,count:this.count[s]}).then(function(e){e.messages.forEach(function(i){i.message=i.entry,i.channel=s,n.instance._component.setState(function(e){return{pn_messages:(0,o.default)(e.pn_messages,(t={},n=s,r={$push:[i]},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))};var t,n,r})}),t&&t()}).catch(function(){})}},{key:"disableLoad",value:function(e){var t=this;Array.isArray(e.channels)?e.channels.forEach(function(e){t.count[e]&&delete t.count[e]}):this.count[e.channels]&&delete this.count[e.channels]}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Broadcast=void 0;var r,i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(6),o=(r=s)&&r.__esModule?r:{default:r};function u(e,t,n){e[t]?e[t]==={}&&n&&(e[t]=n):e[t]=n||{}}t.Broadcast=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._message={},this._presence={},this._status=null}return i(e,[{key:"message",value:function(e,t){u(this._message,e,t)}},{key:"presence",value:function(e,t){u(this._presence,e,t)}},{key:"status",value:function(e){this._status?this._status==={}&&e&&(this._status=e):this._status=e||{}}},{key:"isSubscribe",value:function(e,t){var n="_"+e;return"_status"===n?this[n]:this[n]&&this[n][t]}},{key:"emit",value:function(e,t,n){var r="_"+e;this[r]&&this[r][t]&&"function"==typeof this[r][t]&&this[r][t].call(null,n)}},{key:"emitStatus",value:function(e){this._status&&"function"==typeof this._status&&this._status.call(null,e)}},{key:"error",value:function(e){this._error=e}},{key:"emitError",value:function(e){this._error&&this._error.call(null,e)}},{key:"unsubscribe",value:function(r){var i=this;o.default.subscribe_listener_events_to_broadcast.forEach(function(e){var t,n;(t=i["_"+e])[n=r]&&delete t[n]})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);Object.defineProperty(t,"getMessage",{enumerable:!0,get:function(){return r.getMessage}});var i=n(11);Object.defineProperty(t,"getPresence",{enumerable:!0,get:function(){return i.getPresence}});var s=n(12);Object.defineProperty(t,"getStatus",{enumerable:!0,get:function(){return s.getStatus}});var o=n(13);Object.defineProperty(t,"clean",{enumerable:!0,get:function(){return o.clean}});var u=n(14);Object.defineProperty(t,"release",{enumerable:!0,get:function(){return u.release}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessage=function(e){var t=this,n=this._component,r=void 0,i=100;2===arguments.length&&"function"==typeof arguments[1]?r=arguments[1]:2===arguments.length&&"number"==typeof arguments[1]?i=arguments[1]:3===arguments.length&&(r=arguments[1],i=arguments[2]);s=n,o=e,!s.state.pn_messages[o]&&(s.setState(function(e){return{pn_messages:(0,u.default)(e.pn_messages,{$merge:a({},o,[])})}}),1)&&(this._keepMessages[e]=i,this._autoload.getHistory(e,r));var s,o;this._broadcast.message(e,r),this._listener.message||(this._listener.message=function(e){e.subscription&&t._broadcast.isSubscribe("message",e.subscription)&&c(t,e.subscription,e),e.channel&&t._broadcast.isSubscribe("message",e.channel)&&c(t,e.channel,e)});return n.state&&n.state.pn_messages&&n.state.pn_messages[e]?n.state.pn_messages[e]:[]};var r,i=n(2),u=(r=i)&&r.__esModule?r:{default:r};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){var r=e._component.state.pn_messages[t],i=e._keepMessages[t];r.push(n),i&&r.length>i&&(r=r.slice(r.length-i)),e._component.setState(function(e){return{pn_messages:(0,u.default)(e.pn_messages,a({},t,{$set:r}))}}),e._broadcast.emit("message",t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPresence=function(e,t){var n=this;this._broadcast.presence(e,t),r=this,i=e,r._component.state.pn_presence[i]||r._component.setState(function(e){return{pn_presence:(0,s.default)(e.pn_presence,{$merge:o({},i,{})})}}),this._listener.presence||(this._listener.presence=function(e){e.subscription&&n._broadcast.isSubscribe("presence",e.subscription)&&u(n,e.subscription,e),e.channel&&n._broadcast.isSubscribe("presence",e.channel)&&u(n,e.channel,e)});var r,i;return this._component.state&&this._component.state.pn_presence?this._component.state.pn_presence[e]:{}};var r,i=n(2),s=(r=i)&&r.__esModule?r:{default:r};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){e._component.setState(function(e){return{pn_presence:(0,s.default)(e.pn_presence,o({},t,{$set:n}))}}),e._broadcast.emit("presence",n.channel,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){var n=this;this._broadcast.status(e),this._listener.status||(this._listener.status=function(t){if(!n._broadcast.isSubscribe("status"))return!0;n._component.setState(function(e){return{pn_status:(0,s.default)(e.pn_status,{$set:t})}}),n._broadcast.emitStatus(t)});return this._component.state&&this._component.state.pn_status?this._component.state.pn_status:{}};var r,i=n(2),s=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clean=function(t){this._broadcast.isSubscribe("message",t)&&this._component.setState(function(e){return{pn_messages:(0,s.default)(e.pn_messages,o({},t,{$set:[]}))}});this._broadcast.isSubscribe("presence",t)&&this._component.setState(function(e){return{pn_presence:(0,s.default)(e.pn_presence,o({},t,{$set:[]}))}})};var r,i=n(2),s=(r=i)&&r.__esModule?r:{default:r};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.release=function(e){if(this._broadcast.isSubscribe("message",e)){var t=this._component.state.pn_messages;delete t[e],this._component.setState({pn_messages:t})}if(this._broadcast.isSubscribe("presence",e)){var n=this._component.state.pn_presence;delete n[e],this._component.setState({pn_presence:n})}this._broadcast.unsubscribe(e)}}])});